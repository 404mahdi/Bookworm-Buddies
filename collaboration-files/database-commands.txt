Here are all database commands. If you manipulate anything with the db, include the command here.


CREATE DATABASE bookworm_buddies;

USE bookworm_buddies;

CREATE TABLE users (
    userID INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) NOT NULL,
    password VARCHAR(50) NOT NULL,
    email VARCHAR(50) NOT NULL,
    first_name VARCHAR(50) NOT NULL,
    last_name VARCHAR(50) NOT NULL,
    date_of_birth DATE NOT NULL
);

CREATE TABLE books (
    bookID INT AUTO_INCREMENT PRIMARY KEY,
    title VARCHAR(50) NOT NULL,
    author VARCHAR(50) NOT NULL,
    year_published INT NOT NULL
);


CREATE TABLE collection (
    collectionID INT AUTO_INCREMENT PRIMARY KEY,
    userID INT NOT NULL,
    bookID INT NOT NULL,
    showcase BOOLEAN NOT NULL, 
    FOREIGN KEY (userID) REFERENCES users(userID),
    FOREIGN KEY (bookID) REFERENCES books(bookID)
);

NEW SWAP TABLE
CREATE TABLE swap (
    swapID INT AUTO_INCREMENT PRIMARY KEY,
    requesterID INT NOT NULL,              -- The user requesting the swap
    ownerID INT NOT NULL,                  -- The owner of the book being requested
    bookID INT NOT NULL,                   -- The book owned by the owner
    desired_bookID INT NOT NULL,           -- The book owned by the requester (if swapping both ways)
    status ENUM('pending', 'accepted', 'declined', 'returned') DEFAULT 'pending',  -- Status of the request
    message TEXT DEFAULT NULL,             -- Optional message related to the request (e.g., reason for decline)
    request_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,  -- When the request was made
    FOREIGN KEY (requesterID) REFERENCES users(userID),
    FOREIGN KEY (ownerID) REFERENCES users(userID),
    FOREIGN KEY (bookID) REFERENCES books(bookID),
    FOREIGN KEY (desired_bookID) REFERENCES books(bookID)
);


CREATE TABLE feedback (
    feedbackID INT AUTO_INCREMENT PRIMARY KEY,
    userID INT NOT NULL,
    bookID INT NOT NULL,
    comment VARCHAR(500) NOT NULL,
    FOREIGN KEY (userID) REFERENCES users(userID),
    FOREIGN KEY (bookID) REFERENCES books(bookID)
);

ALTER TABLE collection MODIFY COLUMN showcase BOOLEAN NOT NULL DEFAULT 0;


OLD SWAP TABLE
CREATE TABLE swap (
    swapID INT AUTO_INCREMENT PRIMARY KEY,
    userID INT NOT NULL,
    bookID INT NOT NULL,
    desired_bookID INT NOT NULL,
    FOREIGN KEY (userID) REFERENCES users(userID),
    FOREIGN KEY (bookID) REFERENCES books(bookID),
    FOREIGN KEY (desired_bookID) REFERENCES books(bookID)
);